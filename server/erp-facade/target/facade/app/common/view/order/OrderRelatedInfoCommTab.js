/*
 * File: app/view/OrderRelatedInfoCommTab.js
 *
 * This file was generated by Sencha Architect version 3.5.1.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Common.view.order.OrderRelatedInfoCommTab', {
  extend: 'Ext.tab.Panel',
  alias: 'widget.order.orderrelatedinfocommtab',

  requires: [
    'Common.view.order.OrderRelatedInfoCommTabViewModel',
    'Common.view.order.OrderRelatedInfoCommTabViewController',
    'Ext.grid.Panel',
    'Ext.tab.Tab',
    'Ext.view.Table',
    'Ext.grid.column.RowNumberer',
    'Ext.grid.column.Number',
    'Ext.form.Panel',
    'Ext.form.field.ComboBox',
    'Ext.form.field.Display',
    'Ext.form.RadioGroup',
    'Ext.form.field.Radio',
    'Ext.form.field.TextArea',
    'Ext.form.field.Date',
    'Ext.form.field.Number',
    'Ext.grid.column.Date',
    'Ext.grid.column.Widget'
  ],

  controller: 'order.orderrelatedinfocommtab',
  viewModel: {
    type: 'order.orderrelatedinfocommtab'
  },
  height: 230,
  title: '订单相关页签',
  header: false,
  activeTab: 0,
  listeners: {
    loadTabDatas: 'loadTabDatas'
  },
  defaults: {
    border: false
  },

  items: [
    {
      xtype: 'gridpanel',
      customTabIndex: 1,
      title: '明细商品',
      plugins: [{
        ptype: 'cellediting',
        clicksToEdit: 1,
        listeners: {
          beforeedit: 'onCellBeforeEditCustom',
          validateedit: 'onValidateEditCustom',
          edit: 'onEditCustom'
        }
      }],
      bind: {
        store: '{tabproductinfogridstore}'
      },
      tabConfig: {
        xtype: 'tab',
        dock: 'left',
        width: 100
      },
      columns: [
        {
          xtype: 'rownumberer',
          width: 37,
          align: 'center',
          text: '序号'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A01',
          text: '行状态'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A02',
          text: '商品编码',
          editor: {
            xtype: 'textfield',
            triggers: {
              mytrigger: {
                handler: 'onButtonGoodsChooseClick',
                cls: 'x-form-ellipsis-trigger'
              }
            },
            allowBlank: false,
            selectOnFocus: true,
            msgTarget: 'side',
          },
          renderer: 'onShopSkuRenderer'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A03',
          text: '规格编码'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A04',
          text: '规格名称'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A05',
          text: '条形码'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A06',
          text: '数量'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A07',
          text: '计量单位'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A08',
          text: '计费重量(kg)'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A09',
          text: '售价'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A10',
          text: '行售价'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A11',
          text: '成本价'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A12',
          text: '行成本'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A13',
          text: '订单行折价'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A14',
          text: '完税价格'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A15',
          text: '原系统订单号'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A16',
          text: '在售库存',
          format: '00'
        },
        {
          xtype: 'numbercolumn',
          dataIndex: 'A17',
          text: '可用库存',
          format: '00'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A18',
          text: '行备注',
          editor: {
            xtype: 'textfield',
            selectOnFocus: true
            //maxLength: 10,
            //maxLengthText: '长度控制在10个字符内',
            //msgTarget: 'side',
          },
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A19',
          text: 'A19'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A20',
          text: 'A20'
        }
      ]
    },
    {
      xtype: 'form',
      customTabIndex: 2,
      defaults: {
        width: 200,
        labelWidth: 80,
        margin: '0 10 10 0'
      },
      bodyPadding: 25,
      title: '收货信息',
      layout: {
        type: 'table',
        columns: 4
      },
      items: [
        {
          xtype: 'textfield',
          fieldLabel: '收货人姓名',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A01}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '所在国(检)',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A02}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '所在国(关)',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A03}'
          }
        },
        {
          xtype: 'fieldcontainer',
          width: 400,
          fieldLabel: '收货区域',
          layout: {
            type: 'hbox',
            align: 'stretch'
          },
          items: [
            {
              xtype: 'combobox',
              reference: 'provinceCombo',
              flex: 0.33,
              fieldLabel: '',
              editable: false,
              displayField: 'name',
              queryMode: 'remote',
              valueField: 'id',
              listeners: {
                select: 'onComboboxProvinceSelect'
              },
              bind: {
                store: '{provincestore}',
                value: '{tabreceivegoodsinfoformmodel.A04}'
              }
            },
            {
              xtype: 'combobox',
              reference: 'cityCombo',
              flex: 0.33,
              margin: '0 10 0 10',
              fieldLabel: '',
              editable: false,
              displayField: 'name',
              queryMode: 'local',
              valueField: 'id',
              listeners: {
                select: 'onComboboxCitySelect'
              },
              disabled: 'true',
              bind: {
                store: '{citystore}',
                value: '{tabreceivegoodsinfoformmodel.A05}'
              }
            },
            {
              xtype: 'combobox',
              reference: 'countyCombo',
              flex: 0.33,
              fieldLabel: '',
              editable: false,
              displayField: 'name',
              queryMode: 'local',
              valueField: 'id',
              disabled: 'true',
              bind: {
                store: '{countystore}',
                value: '{tabreceivegoodsinfoformmodel.A06}'
              }
            }
          ]
        },
        {
          xtype: 'textfield',
          fieldLabel: '收货人邮编',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A07}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '收货人手机',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A08}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '收货人固话',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A09}'
          }
        },
        {
          xtype: 'textfield',
          width: 400,
          fieldLabel: '收获地址',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A10}'
          }
        },
        {
          xtype: 'combobox',
          fieldLabel: '证件类型',
          editable: false,
          displayField: 'name',
          queryMode: 'local',
          valueField: 'id',
          store: Common.Constant.CERTIFICATE_TYPE_DATAS,
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A11}'
          }
        },
        {
          xtype: 'textfield',
          colspan: 2,
          width: 410,
          fieldLabel: '证件号码',
          bind: {
            value: '{tabreceivegoodsinfoformmodel.A12}'
          }
        },
        {
          xtype: 'displayfield',
          fieldLabel: '',
          value: ''
        },
        {
          xtype: 'container',
          colspan: 4,
          margin: '20 0 0 0',
          width: 1030,
          layout: {
            type: 'hbox',
            align: 'stretch',
            pack: 'end'
          },
          items: [
            {
              xtype: 'button',
              saveType: 'tabreceivegoodsinfoformmodel',
              iconCls: 'btn-save',
              text: '保存',
              listeners: {
                click: 'onButtonClickSaveTabCommon'
              }
            },
            {
              xtype: 'button',
              saveType: 'tabreceivegoodsinfoformmodel',
              margin: '0 0 0 10',
              iconCls: 'btn-cancel',
              text: '取消',
              listeners: {
                click: 'onButtonClickCancelTabCommon'
              }
            }
          ]
        }
      ]
    },
    {
      xtype: 'form',
      customTabIndex: 3,
      defaults: {
        width: 200,
        labelWidth: 80,
        margin: '0 10 10 0'
      },
      bodyPadding: 25,
      title: '订单备注',
      layout: {
        type: 'table',
        columns: 2
      },
      items: [
        {
          xtype: 'radiogroup',
          colspan: 2,
          margin: '0 0 10 80',
          width: 400,
          defaults: {
            margin: 3
          },
          fieldLabel: '',
          layout: {
            type: 'checkboxgroup',
            autoFlex: false
          },
          items: [
            {
              xtype: 'radiofield',
              boxLabel: '红'
            },
            {
              xtype: 'radiofield',
              boxLabel: '黄'
            },
            {
              xtype: 'radiofield',
              boxLabel: '蓝'
            },
            {
              xtype: 'radiofield',
              boxLabel: '绿'
            },
            {
              xtype: 'radiofield',
              boxLabel: '青'
            }
          ],
          bind: {
            value: '{taborderremarkinfoformmodel.A01}'
          }
        },
        {
          xtype: 'textareafield',
          height: 76,
          width: 400,
          fieldLabel: '卖家备注',
          bind: {
            value: '{taborderremarkinfoformmodel.A02}'
          }
        },
        {
          xtype: 'textareafield',
          disabled: true,
          height: 76,
          width: 400,
          fieldLabel: '买家备注',
          readOnly: true,
          bind: {
            value: '{taborderremarkinfoformmodel.A03}'
          }
        },
        {
          xtype: 'container',
          colspan: 2,
          margin: '20 0 0 0',
          width: 800,
          layout: {
            type: 'hbox',
            align: 'stretch',
            pack: 'end'
          },
          items: [
            {
              xtype: 'button',
              saveType: 'taborderremarkinfoformmodel',
              margin: '0 10 0 0',
              iconCls: 'btn-save',
              text: '保存',
              listeners: {
                click: 'onButtonClickSaveTabCommon'
              }
            },
            {
              xtype: 'button',
              saveType: 'taborderremarkinfoformmodel',
              iconCls: 'btn-cancel',
              text: '取消',
              listeners: {
                click: 'onButtonClickCancelTabCommon'
              }
            }
          ]
        }
      ]
    },
    {
      xtype: 'form',
      customTabIndex: 4,
      scrollable: 'y',
      defaults: {
        width: 200,
        labelWidth: 80,
        margin: '0 10 10 0',
        disabled: true
      },
      bodyPadding: 10,
      title: '基本信息',
      layout: {
        type: 'table',
        columns: 5
      },
      items: [
        {
          xtype: 'textfield',
          fieldLabel: '系统订单号',
          bind: {
            value: '{tabbasicinfoformmodel.A01}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '店铺',
          bind: {
            value: '{tabbasicinfoformmodel.A02}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '订单类型',
          bind: {
            value: '{tabbasicinfoformmodel.A03}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '仓库',
          bind: {
            value: '{tabbasicinfoformmodel.A04}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '客户姓名',
          bind: {
            value: '{tabbasicinfoformmodel.A05}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '平台订单号',
          bind: {
            value: '{tabbasicinfoformmodel.A06}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '平台订单状态',
          bind: {
            value: '{tabbasicinfoformmodel.A07}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '系统订单状态',
          bind: {
            value: '{tabbasicinfoformmodel.A08}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '要求交货日',
          bind: {
            value: '{tabbasicinfoformmodel.A09}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '平台下单时间',
          bind: {
            value: '{tabbasicinfoformmodel.A10}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '创建时间',
          bind: {
            value: '{tabbasicinfoformmodel.A11}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '支付时间',
          bind: {
            value: '{tabbasicinfoformmodel.A12}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '发货时间',
          bind: {
            value: '{tabbasicinfoformmodel.A13}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '完成时间',
          bind: {
            value: '{tabbasicinfoformmodel.A14}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '订单运费',
          bind: {
            value: '{tabbasicinfoformmodel.A15}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '订单税费',
          bind: {
            value: '{tabbasicinfoformmodel.A16}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '折扣金额',
          bind: {
            value: '{tabbasicinfoformmodel.A17}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '调整金额',
          bind: {
            value: '{tabbasicinfoformmodel.A18}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '商品总价',
          bind: {
            value: '{tabbasicinfoformmodel.A19}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '商品总件数',
          bind: {
            value: '{tabbasicinfoformmodel.A20}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '应付金额',
          bind: {
            value: '{tabbasicinfoformmodel.A21}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '包裹标准重量',
          bind: {
            value: '{tabbasicinfoformmodel.A22}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '包裹实际称重',
          bind: {
            value: '{tabbasicinfoformmodel.A23}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '标准物流成本',
          bind: {
            value: '{tabbasicinfoformmodel.A24}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '实际物流成本',
          bind: {
            value: '{tabbasicinfoformmodel.A25}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '物流公司',
          bind: {
            value: '{tabbasicinfoformmodel.A26}'
          }
        },
        {
          xtype: 'textfield',
          fieldLabel: '物流单号',
          bind: {
            value: '{tabbasicinfoformmodel.A27}'
          }
        }
      ]
    },
    {
      xtype: 'form',
      customTabIndex: 5,
      defaults: {
        width: 220,
        labelWidth: 80,
        margin: '0 10 10 0'
      },
      bodyPadding: 25,
      title: '支付信息',
      layout: {
        type: 'table',
        columns: 3
      },
      items: [
        {
          xtype: 'textfield',
          fieldLabel: '支付流水号',
          bind: {
            value: '{tabpaymentinfoformmodel.A01}'
          }
        },
        {
          xtype: 'combobox',
          fieldLabel: '支付方式',
          editable: false,
          displayField: 'name',
          queryMode: 'local',
          valueField: 'id',
          store: Common.Constant.PAYMENT_WAY_DATAS,
          bind: {
            value: '{tabpaymentinfoformmodel.A02}'
          }
        },
        {
          xtype: 'combobox',
          fieldLabel: '支付结果',
          editable: false,
          displayField: 'name',
          queryMode: 'local',
          valueField: 'id',
          store: Common.Constant.PAYMENT_RESULT_DATAS,
          bind: {
            value: '{tabpaymentinfoformmodel.A03}'
          }
        },
        {
          xtype: 'datefield',
          fieldLabel: '支付时间',
          format: 'Y-m-d',
          bind: {
            value: '{tabpaymentinfoformmodel.A04}'
          }
        },
        {
          xtype: 'numberfield',
          colspan: 2,
          fieldLabel: '实付金额',
          bind: {
            value: '{tabpaymentinfoformmodel.A05}'
          }
        },
        {
          xtype: 'container',
          colspan: 3,
          margin: '20 0 0 0',
          width: 680,
          layout: {
            type: 'hbox',
            align: 'stretch',
            pack: 'end'
          },
          items: [
            {
              xtype: 'button',
              saveType: 'tabpaymentinfoformmodel',
              margin: '0 10 0 0',
              iconCls: 'btn-save',
              text: '保存',
              listeners: {
                click: 'onButtonClickSaveTabCommon'
              }
            },
            {
              xtype: 'button',
              iconCls: 'btn-cancel',
              text: '取消',
              saveType: 'tabpaymentinfoformmodel',
              listeners: {
                click: 'onButtonClickCancelTabCommon'
              }
            }
          ]
        }
      ]
    },
    {
      xtype: 'gridpanel',
      customTabIndex: 6,
      title: '售后单(预留)',
      bind: {
        store: '{tabaftersalesgridstore}'
      },
      tabConfig: {
        xtype: 'tab',
        dock: 'left',
        width: 100
      },
      columns: [
        {
          xtype: 'rownumberer',
          width: 37,
          align: 'center',
          text: '序号'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A01',
          text: '售后单号'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A02',
          text: '售后类型'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A03',
          text: '售后状态'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A04',
          text: '来源'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A05',
          text: '售后原因'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A06',
          text: '售后备注'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A07',
          text: '新系统单号'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A08',
          text: '新订单状态'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A09',
          text: '更新人'
        },
        {
          xtype: 'datecolumn',
          dataIndex: 'A10',
          text: '更新时间',
          format: 'm/j/Y'
        },
        {
          xtype: 'datecolumn',
          dataIndex: 'A11',
          text: '创建时间',
          format: 'm/j/Y'
        },
        {
          xtype: 'gridcolumn',
          dataIndex: 'A12',
          text: 'A12'
        }
      ]
    },
    {
      xtype: 'gridpanel',
      reference: 'logDiffGrid',
      customTabIndex: 7,
      title: '订单日志',
      bind: {
        store: '{tabproductinfogridstore}'
      },
      tabConfig: {
        xtype: 'tab',
        dock: 'left',
        width: 100
      },
      columns: {
        defaults: {
          cls: 'titleAlign',
          tdCls: 'with-btngroup'
        },
        items: [
          {
            xtype: 'rownumberer',
            width: 37,
            align: 'center',
            text: '序号'
          },
          {
            xtype: 'widgetcolumn',
            width: 90,
            align: 'center',
            tdCls: 'btngroup',
            text: '操作',
            dataIndex: 'A01',
            widget: {
              xtype: 'buttongroup',
              baseCls: "",
              layout: {
                type: "column"
              },
              defaultBindProperty: 'permission',
              setPermission: function(){
                //var buttonGroup = this,
                //  btnArray = buttonGroup.items.items,
                //  record = btnArray[0].ownerCt.getWidgetRecord();
                //
                //if (Ext.Array.contains(_USER.permissions, "productMgmt:edit")) {
                //  Ext.Array.each(btnArray, function(item, index) {
                //    item.setDisabled(false);
                //  });
                //} else {
                //  Ext.Array.each(btnArray, function(item, index) {
                //    item.setDisabled(true);
                //  });
                //}
              },
              defaults: {
                handler: "onCommandColumnLogDiffClick"
              },
              items: [
                {
                  xtype: 'button',
                  iconCls: "btn-edit",
                  text: '差异比较',
                  command: "LogDiff"
                }
              ]
            }
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'A01',
            text: '类型'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'A02',
            text: '操作人'
          },
          {
            xtype: 'datecolumn',
            dataIndex: 'A03',
            text: '操作时间',
            format: 'm/j/Y'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'A04',
            text: 'A04'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'A05',
            text: 'A05'
          }
        ]
      }
    }
  ]

});