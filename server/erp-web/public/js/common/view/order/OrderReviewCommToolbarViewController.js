/*
 * File: app/view/CommonCommToolbarViewController.js
 *
 * This file was generated by Sencha Architect version 3.5.1.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Common.view.order.OrderReviewCommToolbarViewController', {
  extend: 'Ext.app.ViewController',
  alias: 'controller.order.orderreviewcommtoolbar',

  /**
   * 查询
   */
  onButtonClickQuery: function (button, e, eOpts) {
    var container = button.up('container');
    var items = container.query('field');
    var params = {};

    for (var i = 0, lenth = items.length; i < lenth; i++) {
      if (items[i].editable && items[i].getRawValue() != null) {
        params[items[i].name] = items[i].getRawValue();
      } else if (items[i].getValue() != null ) {
        params[items[i].name] = items[i].getValue();
      }
    };

    container.up('viewport').getController().fireViewEvent('refreshCenterGridStore', params);
  },

  /**
   * 清空
   */
  onButtonClickClear: function (button, e, eOpts) {
    var container = button.up('container');
    var items = container.query('field');
    var params = {};

    Ext.Array.each(items, function (item) {
      item.reset();
    });

    Ext.get('flagImage').setHtml('');
    container.up('viewport').getController().fireViewEvent('refreshCenterGridStore', params);
  }

});
