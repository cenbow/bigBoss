/*
 * File: app/view/OrderManuallyViewport.js
 *
 * This file was generated by Sencha Architect version 3.5.1.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('OrderManually.view.OrderManuallyViewport', {
  extend: 'Ext.container.Viewport',
  alias: 'widget.ordermanuallyviewport',

  requires: [
    'OrderManually.view.OrderManuallyViewportViewModel',
    'OrderManually.view.OrderManuallyViewportViewController',
    'Ext.form.FieldSet',
    'Ext.form.Panel',
    'Ext.form.field.TextArea',
    'Ext.form.field.ComboBox',
    'Ext.form.field.Date',
    'Ext.grid.Panel',
    'Ext.view.Table',
    'Ext.grid.column.RowNumberer',
    'Ext.grid.column.Widget',
    'Ext.button.Button'
  ],

  controller: 'ordermanuallyviewport',

  viewModel: {
    type: 'ordermanuallyviewport'
  },

  layout: {
    type: 'fit'
  },
  items: [
    {
      xtype: 'form',
      reference: 'form',
      layout: {
        type: 'vbox',
        align: 'stretch'
      },
      defaults: {
        xtype: 'panel',
        layout: 'fit',
        bodyPadding: '0 5 0 5',
        border: false
      },
      items: [
        {
          height: 270,
          defaults: {
            xtype: 'fieldset',
            layout: 'column',
            flex: 1,
            margin: '0 5 0 5',
            defaults: {
              columnWidth: 0.5,
              margin: 4,
              labelAlign: 'left',
              labelWidth: 100
            }
          },
          layout: {
            type: 'hbox',
            align: 'stretch'
          },
          items: [
            {
              title: '订单信息',
              items: [
                {
                  xtype: 'combobox',
                  fieldLabel: '店铺名称<span style="color:red">*</span>',
                  allowBlank: false,
                  editable: false,
                  name: 'shopId',
                  queryMode: 'local',
                  displayField: 'value',
                  valueField: 'key',
                  bind: {
                    store: '{commonusergrantshopstore}'
                  }
                },
                {
                  xtype: 'combobox',
                  fieldLabel: '仓库<span style="color:red">*</span>',
                  allowBlank: false,
                  editable: false,
                  name:'whsId',
                  queryMode: 'local',
                  displayField: 'name',
                  valueField: 'id',
                  bind: {
                    store: '{commonwhsstore}'
                  }
                },
                {
                  xtype: 'combobox',
                  fieldLabel: '快递公司<span style="color:red">*</span>',
                  bind: {
                    store: '{ordertype}'
                  },
                  valueField: 'id',
                  displayField: 'name',
                  queryMode: 'local',
                  name:'expressName',
                  editable: false,
                  allowBlank: false
                },
                {
                  xtype: 'combobox',
                  fieldLabel: '订单类型<span style="color:red">*</span>',
                  bind: {
                    store: '{ordertype}'
                  },
                  valueField: 'id',
                  displayField: 'name',
                  name:'orderType',
                  queryMode: 'local',
                  editable: false,
                  allowBlank: false
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '商品总价',
                  name:'totalFee'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '订单运费',
                  name:'shippingFee'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '订单税费',
                  name:'taxFee'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '调整金额',
                  name:'adjustFee'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '折扣金额',
                  name:'discountFee'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '应付金额'
                },
                {
                  xtype: 'textareafield',
                  name:'orderFee',
                  columnWidth: 1,
                  height: 62,
                  width: 427,
                  fieldLabel: '卖家备注'
                }
              ]
            },
            {
              title: '收货信息',
              items: [
                {
                  xtype: 'combo',
                  fieldLabel: '客户名称<span style="color:red">*</span>',
                  allowBlank: false,
                  valueField: 'id',
                  name:'memberNick',
                  displayField: 'memberNick',
                  queryMode: 'local',
                  hideTrigger : true,
                  anyMatch: true,
                  bind:{
                    store:'{customerStore}'
                  },
                  listeners:{
                    change: 'customerChange',
                    focus: 'checkShopId'
                  }
                },
                {
                  xtype: 'displayfield'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '收货人<span style="color:red">*</span>',
                  allowBlank: false,
                  name: 'receiverName',
                  triggers: {
                    mytrigger: {
                      cls: 'x-form-ellipsis-trigger',
                      handler: 'openConsigneeWindow'
                    }
                  }
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '邮编',
                  name: 'receiverZipCode'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '手机号',
                  name: 'receiverMobile'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '固话',
                  name: 'receiverPhone'
                },
                {
                  xtype: 'combobox',
                  columnWidth: 0.46,
                  allowBlank: false,
                  fieldLabel: '区域<span style="color:red">*</span>',
                  name: 'receiverProvince',
                  displayField: 'name',
                  valueField: 'id',
                  emptyText: '请选择省',
                  editable: false,
                  queryMode: 'local',
                  bind: {
                    store: '{province}'
                  },
                  listeners:{
                    select:'commonAreaList'
                  }
                },
                {
                  xtype: 'combobox',
                  columnWidth: 0.27,
                  name: 'receiverCity',
                  displayField: 'name',
                  valueField: 'id',
                  emptyText: '请选择市',
                  editable: false,
                  queryMode: 'local',
                  bind: {
                    store: '{city}'
                  },
                  listeners:{
                    select: 'commonAreaList'
                  }
                },
                {
                  xtype: 'combobox',
                  columnWidth: 0.27,
                  name: 'receiverDistrict',
                  displayField: 'name',
                  valueField: 'id',
                  emptyText: '请选择区/县',
                  editable:false,
                  queryMode: 'local',
                  bind: {
                    store:'{district}'
                  }
                },
                {
                  xtype: 'textfield',
                  columnWidth: 1,
                  allowBlank: false,
                  fieldLabel: '详细地址<span style="color:red">*</span>',
                  name: 'receiverAddress'
                },
                {
                  xtype: 'combobox',
                  displayField: 'name',
                  valueField: 'id',
                  name: 'idCardType',
                  editable:false,
                  queryMode: 'local',
                  emptyText: '请选择',
                  fieldLabel: '证件类型',
                  bind: {
                    store:'{idcardtype}'
                  }
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '证件号',
                  name: 'idCardNo'
                }
              ]
            }
          ]
        },
        {
          height: 60,
          items: [
            {
              xtype: 'fieldset',
              margin: '0 5 0 5',
              defaults: {
                flex: 1,
                margin: '0 4 0 4'
              },
              title: '支付信息',
              layout: {
                type: 'hbox',
                align: 'middle'
              },
              items: [
                {
                  xtype: 'textfield',
                  fieldLabel: '支付流水号',
                  name:'paymentTradeNo'
                },
                {
                  xtype: 'combobox',
                  fieldLabel: '支付方式',
                  name:'paymentMethod'
                },
                {
                  xtype: 'textfield',
                  fieldLabel: '实付金额',
                  name:'paymentFee'
                },
                {
                  xtype: 'datefield',
                  fieldLabel: '支付时间',
                  name:'paymentTime'
                }
              ]
            }
          ]
        },
        {
          layout: {
            type: 'vbox',
            align: 'stretch'
          },
          flex: 1,
          items: [
            {
              xtype: 'fieldset',
              margin: '0 5 0 5',
              height: 25,
              title: '明细商品',
              style: {
                'border-bottom-left-radius': 0,
                'border-bottom-right-radius': 0
              }
            },
            {
              xtype: 'gridpanel',
              flex: 1,
              margin: '0 5 0 5',
              header: false,
              bind: {
                store: '{gridstore}'
              },
              selModel: 'cellmodel',
              plugins: {
                ptype: 'cellediting',
                clicksToEdit: 1
              },
              columns: {
                defaults: {
                  align: 'center',
                  tdCls: 'with-btngroup'
                },
                items: [
                  {
                    xtype: 'rownumberer',
                    width: 50,
                    text: '序号'
                  },
                  {
                    xtype: 'widgetcolumn',
                    tdCls: 'btngroup',
                    width: 43,
                    dataIndex: 'progress',
                    widget: {
                      xtype: 'buttongroup',
                      baseCls: '',
                      items: [
                        {
                          xtype: 'button',
                          iconCls: 'btn-delete',
                          handler: 'onDeleteButtonClick'
                        }
                      ]
                    }
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'productCode',
                    text: '商品编码'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'skuCode',
                    text: '规格编码',
                    editor: {
                      xtype: 'textfield',
                      triggers: {
                        mytrigger: {
                          handler: 'onButtonChooseClick',
                          cls: 'x-form-ellipsis-trigger'
                        }
                      }
                    }
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'skuName',
                    text: '规格名称'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'barCode',
                    text: '条形码'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'quantity',
                    text: '数量'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'price',
                    text: '单价'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'lineTotal',
                    text: '行合计'
                  },
                  /*{
                    xtype: 'gridcolumn',
                    dataIndex: 'stockPrice',
                    text: '行税金'
                  },*/
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'stockPrice',
                    text: '成本单价'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'whsAreaName',
                    text: '拣货区'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'quantityStock',
                    text: '实际库存'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'available',
                    text: '可用库存'
                  },
                  {
                    xtype: 'gridcolumn',
                    dataIndex: 'remark',
                    text: '行备注',
                    flex: 1
                  }
                ]
              },
              dockedItems: [
                {
                  xtype: 'toolbar',
                  ui: 'footer',
                  dock: 'bottom',
                  items: [
                    '->',
                    {
                      xtype: 'button',
                      width: 100,
                      iconCls: 'btn-save',
                      text: '保存',
                      handler: 'onSaveButtonClick',
                      margin: '0 15 0 0'
                    },
                    {
                      xtype: 'button',
                      iconCls: 'btn-cancel',
                      width: 100,
                      text: '清空',
                      handler: 'onCancelButtonClick',
                      margin: '0 0 0 15'
                    },
                    '->'
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
});