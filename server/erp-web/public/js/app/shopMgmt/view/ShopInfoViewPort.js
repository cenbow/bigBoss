/*
 * File: app/view/ShopInfoViewPort.js
 *
 * This file was generated by Sencha Architect version 3.5.1.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('ShopMgmt.view.ShopInfoViewPort', {
  extend: 'Ext.container.Viewport',
  alias: 'widget.shopinfoviewport',

  requires: [
    'Ext.ux.ProgressBarPager',
    'Common.util.TipsUtil',
    'ShopMgmt.view.ShopInfoViewPortViewModel',
    'ShopMgmt.view.ShopInfoViewPortViewController',
    'Ext.grid.Panel',
    'Ext.view.Table',
    'Ext.grid.column.RowNumberer',
    'Ext.grid.column.Widget',
    'Ext.toolbar.Toolbar',
    'Ext.button.Button',
    'Common.ux.CommandColumn'
  ],

  controller: 'shopinfoviewport',
  viewModel: {
    type: 'shopinfoviewport'
  },
  layout: 'fit',

  items: [
    {
      xtype: 'gridpanel',
      header: false,
      columnLines: false,
      reference: "shopMgmtGrid",
      store: 'gridStore',
      plugins: {
        ptype: 'cellediting',
        clicksToEdit: 1
      },
      columns: {
        defaults: {
          cls: 'titleAlign',
          tdCls: 'with-btngroup',
          sortable: false
        }, items: [
          {
            xtype: 'rownumberer',
            width: 37,
            text: '序号'
          },
          {
            text: '操作',
            xtype: 'widgetcolumn',
            width: 150,
            tdCls: 'btngroup',
            dataIndex: 'progress',
            preventUpdate: false,
            widget: {
              xtype: 'buttongroup',
              baseCls: "",
              layout: {
                type: "column"
              },
              defaults: {
                handler: "onCommandColumnClick"
              },
              items: [{
                xtype: "button",
                command: "update",
                iconCls: "btn-edit",
                text: "编辑"
              },
                {
                  xtype: "button",
                  command: "grant",
                  iconCls: "btn-edit",
                  text: "仓库授权"
                }]
            }
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'name',
            text: '店铺名称'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'channelDescription',
            text: '渠道'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'shippingWhsName',
            text: '默认发货仓'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'returnWhsName',
            text: '默认退货仓'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'pushUrl',
            text: '推送地址'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'createByName',
            text: '更新人'
          },
          {
            dataIndex: 'updateDate',
            width: 200,
            renderer: Ext.util.Format.dateRenderer('Y/m/d H:i:s'),
            text: '更新时间',
            align:'center'
          },
          {
            xtype: 'gridcolumn',
            dataIndex: 'memo',
            text: '备注',
            flex: 1
          }
        ]
      },
      dockedItems: [
        {
          xtype: 'toolbar',
          dock: 'top',
          items: [
            {
              xtype: 'button',
              iconCls: 'btn-add',
              text: '添加',
              listeners: {
                click: 'addShopInfo'
              }
            }
          ]
        },
        {
          xtype: 'pagingtoolbar',
          dock: 'bottom',
          displayInfo: true,
          store: 'gridStore',
          plugins: [
            Ext.create("Ext.ux.ProgressBarPager"),
            Ext.create("Common.ux.PagingToolbarResizer", {})
          ]
        }
      ],
      listeners: {
        cellclick: 'cellclick',
        itemdblclick: 'itemdblclick',
      }
    }
  ]

});