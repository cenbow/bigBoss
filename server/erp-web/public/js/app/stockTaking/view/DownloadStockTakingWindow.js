/*
 * File: app/view/DownloadStockTakingWindow.js
 *
 * This file was generated by Sencha Architect version 3.5.1.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('StockTaking.view.DownloadStockTakingWindow', {
  extend: 'Ext.window.Window',
  alias: 'widget.downloadstocktakingwindow',

  requires: [
    'StockTaking.view.DownloadStockTakingWindowViewModel',
    'StockTaking.view.DownloadStockTakingWindowViewController',
    'Ext.form.Panel',
    'Ext.form.field.ComboBox',
    'Ext.form.field.Checkbox',
    'Ext.toolbar.Toolbar',
    'Ext.button.Button'
  ],

  controller: 'downloadstocktakingwindow',

  viewModel: {
    type: 'downloadstocktakingwindow'
  },
  height: 170,
  width: 300,
  modal: true,
  layout: 'fit',
  iconCls: 'btn-edit',
  title: '下载盘点单',
  items: [
    {
      xtype: 'form',
      layout: 'column',
      reference: 'downloadForm',
      bodyPadding: 10,
      header: false,
      items: [
        {
          xtype: 'combobox',
          columnWidth: 1,
          name: 'whsId',
          fieldLabel: '仓库',
          emptyText: '请选择',
          allowBlank: false,
          editable: false,
          queryMode: 'local',
          displayField: 'name',
          valueField: 'id',
          bind: {
            store: '{commonwhsstore}'
          },
          listeners: {
            select: function (filed, newValue) {
              filed.up('window').getViewModel().get('commonwhsareastore').load({id: newValue.get('id')});
              filed.next().reset();
            }
          }
        },
        {
          xtype: 'combobox',
          name: 'whsAreaIds',
          columnWidth: 1,
          fieldLabel: '库区',
          margin: '10% 0 0 0',
          editable: false,
          allowBlank: false,
          queryMode: 'local',
          displayField: 'name',
          multiSelect: true,
          valueField: 'id',
          emptyText: '可多选',
          bind: {
            store: '{commonwhsareastore}'
          }
        },
        {
          xtype: 'radiofield',
          columnWidth: 0.5,
          fieldLabel: 'Label',
          hideLabel: true,
          margin: '10% 0 0 0',
          boxLabel: '所有商品',
          inputValue: true,
          name: 'isAll'
        },
        {
          xtype: 'radiofield',
          columnWidth: 0.5,
          fieldLabel: 'Label',
          margin: '10% 0 0 0',
          name: 'isAll',
          hideLabel: true,
          boxLabel: '有库存商品',
          inputValue: false,
          value: true
        }
      ]
    }
  ],
  dockedItems: [
    {
      xtype: 'toolbar',
      dock: 'bottom',
      ui: 'footer',
      items: [
        '->',
        {
          xtype: 'button',
          iconCls: 'btn-download',
          text: '下载',
          width: 80,
          listeners: {
            click: 'download'
          }
        },
        {
          xtype: 'button',
          text: '关闭',
          iconCls: 'btn-delete',
          width: 80,
          handler: function(){
            this.up('window').close();
          }
        }
      ]
    }
  ]

});